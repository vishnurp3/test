package com.rbs.risk.cradle.climate.migration.calculator.domain;

import lombok.Getter;

import java.util.ArrayList;
import java.util.List;

@Getter
public class Module {

    private final long moduleId;
    private final String moduleKey;
    private final List<Question> questions = new ArrayList<>();

    public Module(long moduleId, String moduleKey) {
        this.moduleId = moduleId;
        this.moduleKey = moduleKey;
    }

    public void addQuestion(Question question) {
        if (!questions.contains(question)) {
            questions.add(question);
        }
    }
}
package com.rbs.risk.cradle.climate.migration.calculator.domain;

import lombok.Getter;

import java.util.ArrayList;
import java.util.List;
import java.util.Objects;

@Getter
public class Question implements Comparable<Question> {

    private final long questionId;
    private final String questionKey;
    private final List<Question> children = new ArrayList<>();
    private final List<Variable> variables = new ArrayList<>();
    private int orderInModule;

    public Question(long questionId, String questionKey) {
        this.questionId = questionId;
        this.questionKey = questionKey;
    }

    public void addChild(Question child) {
        if (!children.contains(child)) {
            children.add(child);
        }
    }

    public void addVariable(Variable variable) {
        variables.add(variable);
    }

    public void setOrderInModule(int orderInModule) {
        this.orderInModule = orderInModule;
    }

    @Override
    public int compareTo(Question other) {
        int cmp = Integer.compare(this.orderInModule, other.orderInModule);
        if (cmp != 0) {
            return cmp;
        }
        return Long.compare(this.questionId, other.questionId);
    }

    @Override
    public boolean equals(Object o) {
        if (this == o) return true;
        if (!(o instanceof Question question)) return false;
        return questionId == question.questionId;
    }

    @Override
    public int hashCode() {
        return Objects.hash(questionId);
    }
}
package com.rbs.risk.cradle.climate.migration.calculator.domain;

import lombok.Getter;
import lombok.RequiredArgsConstructor;

@Getter
@RequiredArgsConstructor
public class Variable {

    private final String variableName;
    private final String prefix;
}
